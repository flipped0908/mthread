


Java虚拟机具体是怎样运行Java字节码的？


从硬件视角来看，Java字节码无法直接执行。因此，Java虚拟机需要将字节码翻译成机器码。


在HotSpot里面，上述翻译过程有两种形式：第一种是解释执行，即逐条将字节码翻译成机器码并执行；
第二种是即时编译（Just-In-Time compilation，JIT），即将一个方法中包含的所有字节码编译成机器码后再执行。


>  java 编译成的class 文件 不能直接被 机器执行 ，还要经过虚拟机的  解释 或者 即时编译 编译成机器码
   才能在机器上运行 被 cpu 和内存 执行， 
   而满足不同的操作系统 就有不同的jvm 所以就是  代码一样  最终执行的物理硬件一样 但是 虚拟机的实现是不一样的 
   实现的原理又是一样的 就是把字节码 翻译 成机器 码 
   
   
   

Java内存模型的底层实现
在X86_64架构上，只有volatile字段写操作之后的写读内存屏障需要用具体指令来替代。（HotSpot所选取的具体指令是lock add DWORD PTR [rsp],0x0，而非mfence[3]。）

在X86_64平台上，只有volatile字段的写操作会强制刷新缓存。



   