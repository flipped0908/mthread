工厂里还有一种流水线的工作模式，类比到编程领域，就是生产者-消费者模式。 

生产者-消费者模式的核心是一个任务队列 

从架构设计的⻆度来看，生产者-消费者模式有一个很重要的优点，就是解耦。


除了架构设计上的优点之外，生产者-消费者模式还有一个重要的优点就是支持异步  

Java语言里，Java线程和操作系统线程是一一对应的，线程创建得太多，会增加上下文切换的成本，所以Java线程 不是越多越好，适量即可。而生产者-消费者模式恰好能支持你用适量的线程。


# 支持批量执行以提升性能 




# 支持分阶段提交以提升性能


# 总结
Java语言提供的线程池本身就是一种生产者-消费者模式的实现，但是线程池中的线程每次只能从任务队列中消费一个任务来 执行，对于大部分并发场景这种策略都没有问题。
但是有些场景还是需要自己来实现，例如需要批量执行以及分阶段提交的场 景。
生产者-消费者模式在分布式计算中的应用也非常广泛。在分布式场景下，你可以借助分布式消息队列(MQ)来实现生产者- 消费者模式。MQ一般都会支持两种消息模型，
一种是点对点模型，一种是发布订阅模型。这两种模型的区别在于，
点对点模 型里一个消息只会被一个消费者消费，和Java的线程池非常类似(Java线程池的任务也只会被一个线程执行);
而发布订阅 模型里一个消息会被多个消费者消费，本质上是一种消息的广播，在多线程编程领域，你可以结合观察者模式实现广播功能。